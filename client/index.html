<!DOCTYPE html>
<html lang="en">

<head>
    <title>Home automation console</title>
    <link rel="stylesheet" href="main.css" media="screen" />
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script>
        var socket = io.connect('/');
        socket.on('list_commands', function (data) {
            $('#command_list').html(`<pre>${data.message}</pre><ul id="command">
                </ul>`)
            data.payload.map((d, i) => {
                $('#command').append(`<ol><span id=${i + 1}>${i + 1}.${d}</span></ol>`)
            })
        });
        socket.on('log_action', function (data) {
            $('#log').css('font-size', '1em');
            $('#log').append(`<span style="display:block">${data.message}(${new Date().toLocaleTimeString()})</span>`)

        })
    </script>
</head>

<body>
    <div id="log"></div>
    <div id="command_list">
    </div>
    <div id="toolbar">
        <ul id="status">
            <li><span>Type your comand:</span></li>
        </ul>
        <input type="text" id="entry" autofocus />
    </div>
</body>

</html>